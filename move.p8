pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- t: make basic movement feel nice
-- t: normalized diagonals
-- t: make shooting feel nice!


-- 0 - stop
-- 1 - left
-- 2 - right
--3  - l+r = stop
-- 4 - up
-- 5  - diag l/u
-- 6  - diag r/u
--7  - l+u+r = u
-- 8 - down
-- 9  - diag l/d
-- 10 - diag r/d
--11 - l+d+r = d
--12 - u+d = stop
--13 - l+u+d = l
--14 - r+u+d = r

-----
-- 1 - ⬅️
-- 2 - ➡️
-- 3 - ⬆️
-- 4 - ⬇️

-- 5 - ⬅️⬆️
-- 6 - ⬆️➡️
-- 7 - ➡️⬇️
-- 8 - ⬅️⬇️

butarr={1,2,0,3,5,6,3,4,8,7,4,0,1,2,0}

dirx={-1,1, 0,0, -1, 1,1,-1 }
diry={ 0,0,-1,1, -1,-1,1,1 }

butarr[0]=0

function _init()
 px,py=64,64
 spd=0.3
 cls(0)
end

function _draw()
 cls(12)
 --spr(5,px,py,2,2)
 pset(px,py,8)
 
 local btnv=btn()&0b1111
 print(btn(),5,5,7)
 print(btnv,5,11,7)
 print(butarr[btnv],5,17,7)
 
 if butarr[btnv]>=5 then
  print("diaginal",5,23,7)
 end
end

function _update60()
 local dir=butarr[btn()&0b1111]
 if dir>0 then
  px+=dirx[dir]*spd
  py+=diry[dir]*spd
 end
 
end
__gfx__
00000000000000011000000000000001100000000000000110000000000000011000000000000001100000000000000000000000000000000000000000000000
00000000000000167100000000000016710000000000001661000000000000167100000000000016710000000000000000000000000000000000000000000000
00700700000000111d100000000000111d1000000000011111100000000001d111000000000001d1110000000000000000000000000000000000000000000000
00077000000001ccc1100000000001ccc1100000000001cccc1000000000011ccc1000000000011ccc1000000000000000000000000000000000000000000000
0007700000001c77cc11000000001c77cc11000000001c77ccc10000000011c77cc10000000011c77cc100000000000000000000000000000000000000000000
0070070000001c7c1c11000000001c7c1c11000000001c7cc1c10000000011c7c1c10000000011c7c1c100000000000000000000000000000000000000000000
0000000000001c111c11100000011c111c11100000111c1111c11100000111c111c11000000111c111c100000000000000000000000000000000000000000000
0000000000001c111c17100000011c111c17100000171c1111c17100000171c111c11000000171c111c100000000000000000000000000000000000000000000
0000000000011cc17116100000161cc1171610000016117117116100000161711cc16100000161171cc110000000000000000000000000000000000000000000
000000000001d1c711d6d1000016d1c77116d10001d6d117711d6d10001d61177c1d6100001d6d117c1d10000000000000000000000000000000000000000000
00000000001ddd111d6d7d1001dddd1111dd6710176d6d1111d6d6710176dd1111dddd1001d7d6d111ddd1000000000000000000000000000000000000000000
00000000001dd6ddd6d66d1001dd66dddd6d66101666d6dddd6d66610166d6dddd66dd1001d66d6ddd6dd1000000000000000000000000000000000000000000
00000000001d676676d6dd1001d6676676d6dd101dd6d676676d6dd101dd6d6766766d1001dd6d676676d1000000000000000000000000000000000000000000
00000000000176d167d1110000117dd1171111000111171661711110001111711dd7110000111d761d6710000000000000000000000000000000000000000000
000000000000151155d110000001655155d11000000161511516100000011d551556100000011d55115100000000000000000000000000000000000000000000
00000000000001111111000000001111111100000000111111110000000011111111000000001111111000000000000000000000000000000000000000000000
